<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>PingLee - Tutor de Mandarim</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/modules.css">
    <script src="js/app.js" defer></script>
    <link rel="icon" href="/images/favicon.png">
</head>

<body>
    <div class="mobile-layout-wrapper">
        <header class="app-header" aria-hidden="true">
            <h1 class="header-title hidden"></h1>
        </header>

        <main>
            <!-- Módulo de Chat Principal (Texto) -->
            <section id="chat">
                <div class="chat-messages"></div>

                <div class="chat-form-container">
                    <form class="chat-form text-form">
                        <input type="text" class="message-input" placeholder="Escreva a sua mensagem..."
                            autocomplete="off">
                        <button type="submit" class="send-button" aria-label="Enviar" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                <path
                                    d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z" />
                            </svg>
                        </button>
                    </form>
                </div>
            </section>

            <!-- Módulo de Role-Play (Voz) -->
            <section id="role-play">
                <div class="scenario-list-container">
                    <div class="scenario-list">
                        <button class="scenario-button" data-scenario="restaurant">
                            <svg class="scenario-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 3v9a2 2 0 0 0 4 0V3" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 8h4" stroke-width="1.7" stroke-linecap="round"/><path d="M15 3h2a2 2 0 0 1 2 2v7h-2a2 2 0 0 1-2-2V3Z" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/></svg>
                            <span>No Restaurante</span>
                        </button>
                        <button class="scenario-button" data-scenario="shopping">
                            <svg class="scenario-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 7h12l-1 12H7L6 7Z" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 7a3 3 0 1 1 6 0" stroke-width="1.7" stroke-linecap="round"/></svg>
                            <span>Fazer Compras</span>
                        </button>
                        <button class="scenario-button" data-scenario="introductions">
                            <svg class="scenario-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke-width="1.7" stroke-linecap="round"/><path d="M16 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke-width="1.7" stroke-linecap="round"/><path d="M4 19v-1a4 4 0 0 1 4-4h0a4 4 0 0 1 4 4v1" stroke-width="1.7" stroke-linecap="round"/><path d="M12 19v-1a4 4 0 0 1 4-4h0a4 4 0 0 1 4 4v1" stroke-width="1.7" stroke-linecap="round"/></svg>
                            <span>Apresentações</span>
                        </button>
                        <button class="scenario-button" data-scenario="taxi">
                            <svg class="scenario-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 16h14l-1-6H6l-1 6Z" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 16v1.5M16 16v1.5" stroke-width="1.7" stroke-linecap="round"/><path d="M9 10l1.5-3h3L15 10" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/></svg>
                            <span>Táxi</span>
                        </button>
                    </div>
                </div>
                <!-- Modal de Role-Play (interação decorre aqui) -->
                <div id="role-play-modal" class="modal-overlay hidden">
                    <div class="modal-content role-modal">
                        <div class="role-modal-header">
                            <div>
                                <h3 class="role-modal-title"></h3>
                                <p class="role-modal-desc"></p>
                            </div>
                            <button class="role-modal-close" aria-label="Fechar role-play">×</button>
                        </div>
                        <div class="role-modal-body">
                            <div class="chat-messages role-modal-messages"></div>
                            <div class="role-play-controls modal-controls">
                                <button type="button" class="mic-button" aria-label="Gravar Áudio">
                                    <svg class="mic-icon" xmlns="http://www.w3.org/2000/svg" height="24"
                                        viewBox="0 -960 960 960" width="24" aria-hidden="true">
                                        <path
                                            d="M480-400q-50 0-85-35t-35-85v-240q0-50 35-85t85-35q50 0 85 35t35 85v240q0 50-35 85t-85 35Zm0-320Z M280-520v120q0 83 58.5 141.5T480-200q83 0 141.5-58.5T680-400v-120h-80v120q0 50-35 85t-85 35q-50 0-85-35t-35-85v-120h-80Z M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z" />
                                    </svg>
                                    <div class="recording-indicator hidden"></div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Módulo de Vocabulário -->
            <section id="vocabulary">
                <div class="vocab-controls">
                    <h2>O meu Vocabulário</h2>
                    <button class="add-word-btn" aria-label="Adicionar nova palavra">+</button>
                </div>
                <div class="vocab-list"></div>
            </section>

            <!-- Módulo de Aulas -->
            <section id="lessons">
                <h2>Aulas</h2>
                <p>Brevemente disponível.</p>
            </section>
        </main>

        <nav class="mobile-nav">
            <a href="#chat" class="nav-item active" data-target="chat">
                <img src="/images/nav_iconsflat_chat.png" alt="Chat">
                <span>Chat</span>
            </a>
            <a href="#role-play" class="nav-item" data-target="role-play">
                <img src="/images/nav_iconsflat_role.png" alt="Role-Play">
                <span>Role-Play</span>
            </a>
            <a href="#vocabulary" class="nav-item" data-target="vocabulary">
                <img src="/images/nav_iconsflat_vocab.png" alt="Vocabulário">
                <span>Vocabulário</span>
            </a>
            <a href="#lessons" class="nav-item" data-target="lessons">
                <img src="/images/nav_iconsflat_lessons.png" alt="Aulas">
                <span>Aulas</span>
            </a>
        </nav>
    </div>

    <!-- Modal de Adicionar/Editar Palavra -->
    <div id="word-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 id="modal-title">Adicionar Nova Palavra</h3>
            <form id="word-form">
                <input type="hidden" id="word-id-input">
                <div class="form-group">
                    <label for="character-input">Caractere(s)</label>
                    <input type="text" id="character-input" required>
                    <button type="button" id="ai-fill-btn">Preencher com IA</button>
                </div>
                <div class="form-group">
                    <label for="pinyin-input">Pinyin</label>
                    <input type="text" id="pinyin-input" required>
                </div>
                <div class="form-group">
                    <label for="translation-input">Tradução (PT-PT)</label>
                    <input type="text" id="translation-input" required>
                </div>
                <div class="form-group-inline">
                    <div class="form-group">
                        <label for="hsk-select">Nível HSK</label>
                        <select id="hsk-select">
                            <option>HSK1</option>
                            <option>HSK2</option>
                            <option>HSK3</option>
                            <option>HSK4</option>
                            <option>HSK5</option>
                            <option>HSK6</option>
                            <option>N/A</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pos-select">Função Gramatical</label>
                        <select id="pos-select">
                            <option>Substantivo</option>
                            <option>Verbo</option>
                            <option>Adjetivo</option>
                            <option>Advérbio</option>
                            <option>Pronome</option>
                            <option>Partícula</option>
                            <option>Classificador</option>
                            <option>Expressão</option>
                            <option>Outro</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="example-chinese-input">Frase Exemplo (Chinês)</label>
                    <input type="text" id="example-chinese-input">
                </div>
                <div class="form-group">
                    <label for="example-translation-input">Tradução do Exemplo</label>
                    <input type="text" id="example-translation-input">
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn">Cancelar</button>
                    <button type="submit" class="save-btn">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/ui.js"></script>
    <script src="/js/chat.js"></script>
    <script src="/js/role-play.js"></script>
    <script src="/js/vocabulary.js"></script>
    <script src="/js/app.js"></script>
</body>

</html>
