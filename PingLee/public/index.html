<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>PingLee - Tutor de Mandarim</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/modules.css">
    <link rel="icon" href="/images/favicon.png">
</head>

<body>
    <div class="mobile-layout-wrapper">
        <header class="app-header" aria-hidden="true">
            <h1 class="header-title hidden"></h1>
        </header>

        <main>
            <!-- M√≥dulo de Chat Principal (Texto) -->
            <section id="chat">
                <div class="chat-toolbar">
                    <button type="button" class="pill-toggle" id="audio-slow-toggle" aria-pressed="false" title="Modo √°udio lento">üêå</button>
                </div>
                <div class="chat-messages"></div>

                <div class="chat-form-container">
                    <form class="chat-form text-form">
                        <input type="text" class="message-input" placeholder="Escreva a sua mensagem..."
                            autocomplete="off" lang="zh-Hans" inputmode="text">
                        <button type="submit" class="send-button" aria-label="Enviar" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                                <path
                                    d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z" />
                            </svg>
                        </button>
                    </form>
                </div>
            </section>

            <!-- M√≥dulo de Role-Play (Voz) -->
            <section id="role-play">
                <div class="scenario-list-container">
                    <div class="scenario-list">
                        <button class="scenario-button" data-scenario="restaurant">
                            <img src="/images/roleplay_restaurante.png" alt="Restaurante" loading="lazy">
                        </button>
                        <button class="scenario-button" data-scenario="shopping">
                            <img src="/images/roleplay_compras.png" alt="Compras" loading="lazy">
                        </button>
                        <button class="scenario-button" data-scenario="introductions">
                            <img src="/images/roleplay_apresentacao.png" alt="Apresenta√ß√µes" loading="lazy">
                        </button>
                        <button class="scenario-button" data-scenario="taxi">
                            <img src="/images/roleplay_taxi.png" alt="T√°xi" loading="lazy">
                        </button>
                    </div>
                </div>
                <!-- Modal de Role-Play (intera√ß√£o decorre aqui) -->
                <div id="role-play-modal" class="modal-overlay hidden">
                    <div class="modal-content role-modal">
                        <div class="role-modal-header">
                            <div></div>
                            <div class="role-modal-actions">
                                <button type="button" class="pill-toggle" id="roleplay-audio-slow-toggle" aria-pressed="false" title="Modo √°udio lento">üêå</button>
                                <button class="role-modal-close" aria-label="Fechar role-play">√ó</button>
                            </div>
                        </div>
                        <div class="role-modal-body">
                            <div class="chat-messages role-modal-messages"></div>
                            <div class="role-play-controls modal-controls">
                                <button type="button" class="mic-button" aria-label="Gravar √Åudio">
                                    <img src="/images/mic_icon.png" alt="" class="mic-icon" loading="lazy" />
                                    <div class="recording-indicator hidden"></div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- M√≥dulo de Vocabul√°rio -->
            <section id="vocabulary">
                <div class="vocab-header">
                    <div class="breadcrumb-row">
                        <div class="breadcrumb" id="vocab-breadcrumb"></div>
                        <button class="back-root-btn" id="vocab-back-root" aria-label="Voltar ao in√≠cio">Voltar</button>
                    </div>
                    <div class="vocab-summary">
                        <div class="metric">
                            <img src="/images/nav_iconsflat_vocab.png" alt="" class="metric-icon" loading="lazy">
                            <div>
                                <span class="metric-label">Total</span>
                                <span class="metric-value" id="metric-total">0</span>
                            </div>
                        </div>
                        <div class="metric">
                            <img src="/images/nav_iconsflat_role.png" alt="" class="metric-icon" loading="lazy">
                            <div>
                                <span class="metric-label">A treinar</span>
                                <span class="metric-value" id="metric-train">0</span>
                            </div>
                        </div>
                        <button class="add-word-btn" id="open-add-word" aria-label="Adicionar nova palavra">+</button>
                    </div>
                    <div class="vocab-filters">
                        <input type="search" id="vocab-search" placeholder="Procurar por caractere, pinyin ou significado..." autocomplete="off" inputmode="search">
                        <select id="vocab-filter-hsk">
                            <option value="">HSK (filtrar)</option>
                            <option value="HSK1">HSK1</option>
                            <option value="HSK2">HSK2</option>
                            <option value="HSK3">HSK3</option>
                            <option value="HSK4">HSK4</option>
                            <option value="HSK5">HSK5</option>
                            <option value="HSK6">HSK6</option>
                            <option value="N/A">N/A</option>
                        </select>
                        <select id="vocab-filter-pos">
                            <option value="">Fun√ß√£o (filtrar)</option>
                            <option value="Substantivo">Substantivo</option>
                            <option value="Verbo">Verbo</option>
                            <option value="Adjetivo">Adjetivo</option>
                            <option value="Adv√©rbio">Adv√©rbio</option>
                            <option value="Express√£o">Express√£o</option>
                            <option value="Part√≠cula">Part√≠cula</option>
                            <option value="Classificador">Classificador</option>
                            <option value="Outro">Outro</option>
                        </select>
                    </div>
                </div>
                <div class="vocab-stats" id="vocab-stats"></div>
                <div class="vocab-panel" id="vocab-panel"></div>
            </section>

            <!-- M√≥dulo de Aulas -->
            <section id="lessons">
                <h2>Aulas</h2>
                <p>Brevemente dispon√≠vel.</p>
            </section>
        </main>

        <nav class="mobile-nav">
            <a href="#chat" class="nav-item active" data-target="chat">
                <img src="/images/nav_iconsflat_chat.png" alt="Chat" loading="lazy">
                <span>Chat</span>
            </a>
            <a href="#role-play" class="nav-item" data-target="role-play">
                <img src="/images/nav_iconsflat_role.png" alt="Role-Play" loading="lazy">
                <span>Role-Play</span>
            </a>
            <a href="#vocabulary" class="nav-item" data-target="vocabulary">
                <img src="/images/nav_iconsflat_vocab.png" alt="Vocabul√°rio" loading="lazy">
                <span>Vocabul√°rio</span>
            </a>
            <a href="#lessons" class="nav-item" data-target="lessons">
                <img src="/images/nav_iconsflat_lessons.png" alt="Aulas" loading="lazy">
                <span>Aulas</span>
            </a>
        </nav>
    </div>

    <!-- Modal de Detalhe de Palavra -->
    <div id="word-modal" class="modal-overlay hidden">
        <div class="modal-content word-modal">
            <div class="word-modal-header">
                <h3 id="modal-title">Detalhe</h3>
                <button type="button" class="word-modal-close" aria-label="Fechar">√ó</button>
            </div>
            <div id="word-modal-body"></div>
        </div>
    </div>

    <!-- Modal de Adicionar/Editar Palavra -->
    <div id="word-form-modal" class="modal-overlay hidden">
        <div class="modal-content word-modal">
            <div class="word-modal-header">
                <h3 id="form-modal-title">Adicionar Palavra</h3>
                <button type="button" class="word-form-close" aria-label="Fechar">√ó</button>
            </div>
            <form id="word-form">
                <input type="hidden" id="word-id-input">
                <div class="form-row triple">
                    <div class="form-group">
                        <label for="character-input">Caractere(s)</label>
                        <input type="text" id="character-input" required lang="zh-Hans" inputmode="text">
                    </div>
                    <div class="form-group">
                        <label for="pinyin-input">Pinyin</label>
                        <input type="text" id="pinyin-input" required lang="en" inputmode="latin">
                    </div>
                    <div class="form-group compact-action">
                        <label class="visually-hidden" for="ai-fill-btn">Auto</label>
                        <button type="button" id="ai-fill-btn" class="word-btn">Auto</button>
                    </div>
                </div>
                <div class="form-row triple">
                    <div class="form-group">
                        <label for="translation-input">Significado</label>
                        <input type="text" id="translation-input" required lang="pt" inputmode="text">
                    </div>
                    <div class="form-group">
                        <label for="hsk-input">HSK</label>
                        <input type="text" id="hsk-input" placeholder="HSK1, HSK2, N/A..." lang="en" inputmode="text" />
                    </div>
                    <div class="form-group">
                        <label for="pos-input">Fun√ß√£o</label>
                        <input type="text" id="pos-input" placeholder="Substantivo, Verbo..." lang="pt" inputmode="text" />
                    </div>
                </div>
                <div class="form-row double">
                    <div class="form-group">
                        <label for="example-chinese-input">Exemplo</label>
                        <input type="text" id="example-chinese-input" lang="zh-Hans" inputmode="text">
                    </div>
                    <div class="form-group">
                        <label for="example-translation-input">Tradu√ß√£o</label>
                        <input type="text" id="example-translation-input" lang="pt" inputmode="text">
                    </div>
                </div>
                <div class="form-group notes-group">
                    <label for="notes-input" class="visually-hidden">Notas</label>
                    <textarea id="notes-input" rows="2" placeholder="Notas"></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="save-btn word-btn">Guardar</button>
                </div>
            </form>
            <div id="vocab-feedback"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/ui.js"></script>
    <script src="/js/app.js"></script>
</body>

</html>
